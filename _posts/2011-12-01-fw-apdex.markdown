---
layout: post
title:  "[转载]Apdex - 应用性能指数"
date:   2011-12-01 10:30:58 +0800
categories: 笔记
tags:   [apdex]
---
转自：[http://blog.sina.com.cn/s/blog_539204700100i4f5.html](http://blog.sina.com.cn/s/blog_539204700100i4f5.html){:target="blank"}

Apdex联盟，一个由众多网络分析技术公司和测量工业组成的联盟组织，它们联合起来开发了“应用性能指数”即“Apdex”(Application Performance Index)，用一句话来概括，Apdex是用户对应用性能满意度的量化值。它提供了一个统一的测量和报告用户体验的方法，第一次把最终用户的体验和应用性能联系在了一起。
 
在网络中运行的任何一个应用（Web、数据库、E-mail等等），它的响应时间决定了用户的满意程度。那么这个“响应时间”是什么？是一个请求数据包得到响应的时间吗？不，这样一个孤立的响应时间再短对用户来说也毫无意义。
 
举一个Web应用的例子，当用户**进行一次http链接时，客户端和服务器之间会产生很多个交互（一个交互指一次客户端的请求和服务器的响应），而不是只有一个**。可以想象缺少了这其中的任何一个交互，打开的网页都是残缺不全的，http链接这一动作产生的所有交互完成之前，用户无法进行下一步的操作。
 
换一个角度来看这个过程，进行**http链接**是用户使用Web应用时发生的一个任务（Task），只有这个任务完成，用户才能进行下一个任务（再次进行http链接，或下载文件等等）。用户在网络上使用一个应用的过程，就是发生连续的一系列任务的过程。
 
任务的概念非常重要，它是应用性能和用户体验的结合点。在完成一个任务之前，用户是在等待其完成才行下一个任务，这个等待时间片的长短直接影响了用户对应用的满意程度。这才是对用户有真正的意义的“响应时间”，Apdex把完成这样一个任务所用的时间长短称为应用的“响应性”。
 
基于“响应性”，Apdex定义了3个用户满意度区间:

1. 满意: 这样的响应时间让用户感到很愉快，例如少于3秒钟。
2. 容忍: 慢了一点，但还可以接受，继续这一应用过程，例如3～12秒。
3. 失望: 太慢了，受不了了，用户决定放弃这个应用，例如超过12秒。

![Apdex 应用性能指数](/images/apdex1.gif)

“满意”、“容忍”、“失望”这三个区间通过响应时间数值“T”来划分，T值代表着用户对应用性能满意的响应时间界限或者说是“门槛”（Threshold），也就是第一个区间“满意”的底线，如3秒，满意区间就是0~3秒；响应时间超过T值用户就有些不满了，下一个区间“容忍”的界限值则是T和4T，即3~12秒之间为容忍区间；响应时间再长用户就开始考虑放弃了，最后一个区间“失望”的响应时间则大于4T，即多于12秒。
 
之后，Apdex对应用中发生的任务进行采样，并且按其响应时间把采样划分到相应的满意度区间，计数，再用一个公式计算Apdex指数：
![Apdex 应用性能指数](/images/apdex2.gif)

实际上，这个公式的意义在于：

- 一个满意样本得分为：1
- 一个容忍样本得分为：0.5
- 一个失望样本得分为：0
 
因此公式也可以写成：
 
Apdex指数 ＝（1 × 满意样本 ＋ 0.5 × 容忍样本）÷ 样本总数
 
这样，采样结果被量化为一个0到1之间的数值即“Apdex指数”，0代表没有满意用户，1则代表所有用户都满意。经过统计，Apdex把这个数值与用户满意程度细化对应，如下图所示，对于应用性能的Apdex评分与用户的体验紧密关联，为管理者提供了一种通过应用性能量化值来评估用户满意度的方法。
![Apdex 应用性能指数](/images/apdex3.gif)

若对Apdex感兴趣，可以访问网站[www.apdex.org](www.apdex.org){:target="blank"}获得更多信息。